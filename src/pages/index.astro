---
import Layout from "../layouts/Layout.astro";
import Link from "../components/Link.astro";
import getAllBookRuleData, { rulePaths } from "../utils/getAllBookRuleData";

const mgVbRulePages = await getAllBookRuleData({ rulePath: rulePaths.mgbv });
const mgGdRulePages = await getAllBookRuleData({ rulePath: rulePaths.mggd });
---

<Layout title="LZH Vinaya" isIndexPage>
  <main>
    <h1 class="text-6xl">LZH Vinaya Translations</h1>

    <h2 class="mt-12 mb-6 text-4xl text-neutral-800">
      {mgVbRulePages[0].school}
      <p class="text-2xl leading-8">{mgVbRulePages[0].book}</p>
    </h2>

    <ul class="my-4 text-xl md:columns-2 xl:columns-3 gap-8">
      {
        mgVbRulePages.map((rule) => (
          <li class="mb-4">
            <Link
              href={rulePaths.mgbv + "/" + rule.file}
              text={rule.rule_class + " " + rule.rule_no}
            />
          </li>
        ))
      }
    </ul>

    <h2 class="mt-12 mb-6 text-4xl text-neutral-800">
      {mgGdRulePages[0].school}
      <p class="text-2xl leading-8">{mgGdRulePages[0].book}</p>
    </h2>

    <ul class="my-4 text-xl md:columns-2 xl:columns-3 gap-8">
      {
        mgGdRulePages.map((rule, index) => (
          <li class="mb-4">
            <Link
              href={rulePaths.mggd + "/" + rule.file}
              text={"Garudhamma " + " " + (index + 1)}
            />
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
